!function(o){var p=function(e,n){e.each({".pp-advanced-tabs":".pp-advanced-tabs-title",".pp-toggle-container":".pp-toggle-switch",".elementor-tabs":".elementor-tab-title"},function(t,o){0<e(n).closest(t).length&&e(n).closest(t).find(o).on("click",function(){setTimeout(function(){n.slick("setPosition")},100)})})},c=function(t,d){var o=t.data("id"),i=(t.find(".pp-quick-view-btn"),t.find(".pp-quick-view-"+o));i.appendTo(document.body);var n=i.find(".pp-quick-view-bg"),r=i.find("#pp-quick-view-modal"),p=r.find("#pp-quick-view-content"),e=r.find("#pp-quick-view-close"),a=r.find(".pp-content-main-wrapper");a.width(),a.height();t.off("click",".pp-quick-view-btn").on("click",".pp-quick-view-btn",function(t){t.preventDefault();var o=d(this),e=(o.closest("li.product"),o.data("product_id"));r.hasClass("loading")||r.addClass("loading"),n.hasClass("pp-quick-view-bg-ready")||n.addClass("pp-quick-view-bg-ready"),d(document).trigger("pp_quick_view_loading"),c(o,e)});var c=function(t,o){r.css("opacity",0),d.ajax({url:pp_woo_products_script.ajax_url,data:{action:"pp_woo_quick_view",product_id:o},dataType:"html",type:"POST",success:function(t){p.html(t),s()}})},s=function(){var t,o,e=p.find(".variations_form");e.trigger("check_variations"),e.trigger("reset_image"),r.hasClass("open")||(r.removeClass("loading").addClass("open"),t=u(),(o=d("html")).css("margin-right",t),o.addClass("pp-quick-view-is-open"));var n=r.find(".variations_form");0<n.length&&"function"==typeof n.wc_variation_form&&(n.wc_variation_form(),n.find("select").change()),p.imagesLoaded(function(t){var o=r.find(".pp-qv-image-slider");1<o.find("li").length?o.flexslider({animation:"slide",start:function(t){setTimeout(function(){l(!0)},300)}}):setTimeout(function(){l(!0)},300)}),d(document).trigger("pp_quick_view_loader_stop")},l=function(t){var o=p,e=o.find(".product .pp-qv-image-slider").first().height(),n=o.find(".product .summary.entry-summary"),a=n.css("content");void 0!==a&&544==a.replace(/[^0-9]/g,"")&&0!=e&&null!==e?n.css("height",e):n.css("height",""),!0===t&&r.css("opacity",1)},u=function(){var t=d('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');d("body").append(t);var o=d("div",t).innerWidth();t.css("overflow-y","scroll");var e=d("div",t).innerWidth();return d(t).remove(),o-e};!function(){a.on("click",function(t){this===t.target&&o()}),d(document).keyup(function(t){27===t.keyCode&&o()}),e.on("click",function(t){t.preventDefault(),o()});var o=function(){n.removeClass("pp-quick-view-bg-ready"),r.removeClass("open").removeClass("loading"),d("html").removeClass("pp-quick-view-is-open"),d("html").css("margin-right",""),setTimeout(function(){p.html("")},600)}}(),window.addEventListener("resize",function(t){l()});var f=function(){i.off("click","#pp-quick-view-content .single_add_to_cart_button").off("pp_added_to_cart").on("click","#pp-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("pp_added_to_cart",this.updateButton)};f.prototype.onAddToCart=function(t){t.preventDefault();var o=d(this),e=d(this).val(),n=d('input[name="variation_id"]').val()||"",a=d('input[name="quantity"]').val();o.is(".single_add_to_cart_button")&&(o.removeClass("added"),o.addClass("loading"),""!=n?jQuery.ajax({url:pp.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+e+"&variation_id="+n+"&quantity="+a,success:function(t){d(document.body).trigger("wc_fragment_refresh"),d(document.body).trigger("pp_added_to_cart",[o]),o.removeClass("loading"),o.addClass("added")}}):jQuery.ajax({url:pp.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+e+"&quantity="+a,success:function(t){d(document.body).trigger("wc_fragment_refresh"),i.trigger("pp_added_to_cart",[o])}}))},f.prototype.updateButton=function(t,o){d(o=void 0!==o&&o)&&(d(o).removeClass("loading"),d(o).addClass("added"))},new f},t=function(t,o,e){var n,a,d,i,r;void 0!==t&&(0<(n=t.find(".pp-woo-products-slider")).length&&(a=n.find("ul.products"),d=JSON.parse(n.attr("data-woo_slider")),a.slick(d),p(o,a)),elementorFrontend.isEditMode()||(c(t,o),i=o,$layout=t.data("element_type"),"pp-woo-products.skin-2"!==$layout&&"pp-woo-products-slider.slider-modern"!==$layout||((r=function(){i(document.body).off("click",".pp-product-actions .pp-add-to-cart-btn.product_type_simple").off("pp_product_actions_added_to_cart").on("click",".pp-product-actions .pp-add-to-cart-btn.product_type_simple",this.onAddToCart).on("pp_product_actions_added_to_cart",this.updateButton)}).prototype.onAddToCart=function(t){t.preventDefault();var o=i(this),e=o.data("product_id");o.find("pp-action-item");o.removeClass("added"),o.addClass("loading"),jQuery.ajax({url:pp.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+e+"&quantity=1",success:function(t){i(document.body).trigger("wc_fragment_refresh"),i(document.body).trigger("pp_product_actions_added_to_cart",[o])}})},r.prototype.updateButton=function(t,o){i(o=void 0!==o&&o)&&(i(o).removeClass("loading"),i(o).addClass("added"),!pp.is_cart&&0===i(o).parent().find(".added_to_cart").length&&pp.is_single_product&&i(o).after(' <a href="'+pp.cart_url+'" class="added_to_cart wc-forward" title="'+pp.view_cart+'">'+pp.view_cart+"</a>"))},new r)),elementorFrontend.isEditMode()&&c(t,o),t.find(".pp-post-filter").off("click").on("click",function(){o(this).siblings().removeClass("pp-filter-current"),o(this).addClass("pp-filter-current"),count=1,s(t,o(this))}))},s=function(t,o){t.find(".pp-posts-grid .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var e={page_id:t.find(".pp-woo-products-inner").data("page"),widget_id:t.data("id"),filter:o.data("filter"),skin:t.find(".pp-woo-products-inner").data("skin"),page_number:1};n(t,e)},n=function(d,t,i){var r=d.find(".pp-posts-loader");o.ajax({url:pp.ajax_url,data:{action:"pp_get_product",page_id:t.page_id,widget_id:t.widget_id,category:t.filter,skin:t.skin,page_number:t.page_number},dataType:"json",type:"POST",success:function(t){console.log("success"),console.log(t);var o,e=d.find(".products");1==i?(o=t.data.html,e.append(o)):e.html(t.data.html),d.find(".pp-posts-pagination-wrap").html(t.data.pagination);var n=d.find(".pp-posts-grid").data("layout"),a=d.find(".pp-posts-grid");"masonry"==n&&d.imagesLoaded(function(){a.isotope("destroy"),a.isotope({layoutMode:n,itemSelector:".pp-grid-item-wrap"})}),loadStatus=!0,1==i&&(r.hide(),d.find(".pp-post-load-more").show())}})},e=function(t,o){o("body").off("added_to_cart.pp_cart").on("added_to_cart.pp_cart",function(){t.hasClass("elementor-widget-pp-woo-add-to-cart")&&($btn=t.find(".ajax_add_to_cart.pp-redirect"),0<$btn.length&&!pp.is_cart&&$btn.hasClass("added")&&(window.location=pp.cart_url))})},a=function(t,o){0<o(t.find(".pp-offcanvas-cart-container")).length&&new PPOffcanvasContent(t)},d=function(t,o){var e,n,a=t.find(".pp-woo-categories-carousel").eq(0);0<a.length&&(e=a.find(".products.pp-slick-slider"),n=JSON.parse(a.attr("data-cat-carousel-options")),e.slick(n),p(o,e))},i=function(t,n){var a,o,e=n(".single-product .cart"),d=n(".pp-add-to-cart-sticky");d.length<=0||e.length<=0||(a=e.offset().top+e.outerHeight(),(o=function(){var t=n(window).scrollTop(),o=n(window).height(),e=n(document).height();a<t&&t+o!=e?d.addClass("pp-sticky-shown"):(t+o==e||t<a)&&d.removeClass("pp-sticky-shown")})(),n(window).scroll(o),n(".pp-sticky-add-to-cart").on("click",function(t){t.preventDefault(),n("html, body").animate({scrollTop:n(".single-product .cart").offset().top-30},500)}))};o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-products.skin-1",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-products.skin-2",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-products.skin-3",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-products.skin-4",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-products.skin-5",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-add-to-cart.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-categories.default",d),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-offcanvas-cart.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-add-to-cart-notification.default",i)})}(jQuery);